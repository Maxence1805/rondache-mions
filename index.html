<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Rondache BR MIONS</title>
  <link rel="icon" type="image/png" href="favicon2.png">
  <!-- EmailJS CDN -->
  <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
  <script>
    (function() {
      emailjs.init("X30pM8hRGW-6h8ToH"); // Votre clé publique EmailJS
    })();
  </script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 0;
    }

    .header {
      position: relative;
      background: linear-gradient(90deg, #0f2743, #1a3a60);
      color: white;
      padding: 40px 20px;
      text-align: center;
    }

    .header-logo {
      position: absolute;
      top: 20px;
      height: 150px;
      width: auto;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    }

    .header-logo.right {
      right: 40px;
      left: auto;
    }

    .header-logo:not(.right) {
      left: 40px;
    }

    .header-text h1 {
      margin: 10px 0;
      font-size: 1.8em;
      font-weight: 600;
    }

    .navbar {
      background-color: #0f2743;
      padding: 10px;
      text-align: center;
    }

    .navbar a {
      color: white;
      text-decoration: none;
      margin: 0 15px;
      font-weight: bold;
    }

    .navbar a:hover {
      text-decoration: underline;
    }

    .container {
      max-width: 900px;
      margin: 30px auto;
      padding: 20px;
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .logo {
      display: block;
      margin: 0 auto 20px;
      max-width: 400px;
      cursor: pointer;
    }

    .lightbox {
      display: flex;
      justify-content: center;
      align-items: center;
      position: fixed;
      z-index: 999;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.8);
      opacity: 0;
      visibility: hidden;
      transition: opacity .3s ease;
    }

    .lightbox.active {
      opacity: 1;
      visibility: visible;
    }

    .lightbox img {
      max-width: 90%;
      max-height: 90%;
      transform: scale(.9);
      transition: transform .3s ease;
    }

    .lightbox.active img {
      transform: scale(1);
    }

    .content {
      text-align: center;
    }

    .price {
      font-size: 1.4em;
      color: #0f2743;
      margin: 20px 0;
    }

    .stock {
      font-size: 1.1em;
      color: #c62828;
      margin: 10px 0;
    }

    .cta {
      display: inline-block;
      margin-top: 20px;
      padding: 10px 20px;
      background-color: #0f2743;
      color: white;
      text-decoration: none;
      border-radius: 5px;
    }

    .description, .terms, .legal {
      text-align: left;
      margin-top: 40px;
    }

    footer {
      text-align: center;
      font-size: 0.9em;
      margin-top: 40px;
      color: #777;
    }

    form {
      margin-top: 30px;
      text-align: left;
    }

    form input, form select, form textarea {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      margin-bottom: 20px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 1em;
      font-family: Arial, sans-serif;
    }

    form button {
      padding: 10px 20px;
      background-color: #0f2743;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: 0.2s ease;
      font-size: 1em;
    }

    form button:hover {
      background-color: #14365d;
      transform: scale(1.02);
    }

    .success-message {
      display: none;
      margin-top: 20px;
      padding: 15px;
      background-color: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
      border-radius: 5px;
    }

    .success-message.show {
      display: block;
      animation: pop .4s ease-out;
    }

    .success-message .check {
      font-size: 1.4em;
      margin-right: 6px;
    }

    @keyframes pop {
      0% { opacity: 0; transform: scale(0.8); }
      100% { opacity: 1; transform: scale(1); }
    }

    .payment-icons {
      margin-top: 10px;
      display: flex;
      justify-content: center;
      gap: 15px;
    }

    .payment-icons img {
      width: 40px;
      height: auto;
    }

    @media (max-width: 767px) {
      .header-logo {
        display: none;
      }

      .header-text h1 {
        font-size: 1.2em;
        padding: 0 10px;
      }
    }
  </style>
</head>
<body>

  <div class="header">
    <img src="logo.png" alt="Logo BR Mions" class="header-logo" />
    <img src="logo-droite.png" alt="Logo droite" class="header-logo right" />
    <div class="header-text">
      <h1>RONDACHE OFFICIELLE</h1>
      <h1>Brigade de Recherches de MIONS</h1>
      <h1>(RHÔNE)</h1>
    </div>
  </div>

  <nav class="navbar">
    <a href="#description">Description</a>
    <a href="#terms">Conditions</a>
    <a href="#email-form">Demandez votre Commande</a>
  </nav>

  <div class="container">
    <img src="rondache-br-mions.png" alt="Rondache BR MIONS" class="logo" />
    <div id="lightbox" class="lightbox" aria-hidden="true" role="dialog" aria-label="Zoom sur la rondache">
      <img src="rondache-br-mions.png" alt="Rondache zoom" />
    </div>

    <div class="content">
      <p>La rondache <strong>brodée</strong> officielle de la Brigade de Recherches de MIONS est disponible à la vente pour les gendarmes, passionnés et collectionneurs.</p>
      <p class="price"><strong>7 € la rondache (+ 2 € de frais de port)</strong></p>
      <p class="stock">Il reste <strong>63</strong> exemplaires disponibles.</p>
      <p><strong>Pour toute commande, bien vouloir remplir le formulaire de contact, je reviendrai vers vous pour les modalités de paiement avant envoi.</strong></p>
      <p>Paiement accepté par chèque, virement, PayPal ou Paylib.</p>
      <p style="margin-top: 30px; font-style: italic;">Me contacter pour les détails.</p>

      <div id="description" class="description">
        <h2>Description héraldique</h2>
        <p>La rondache, sur fond bleu et noir, couleurs de la Gendarmerie Nationale, comporte en son centre une araignée noire avec sa toile blanche avec une menotte à une patte évoquant le travail des enquêteurs face aux mis en cause. Elle porte sur sa base le blason de la ville de Mions, siège de l'unité. Elle présente sur sa partie gauche le symbole de l'officier de police judiciaire, qualification intrinsèque de l'unité et symbole d'appartenance à la Gendarmerie.</p>
        <p>Elle présente sur la partie extérieure une couronne noire portant en son chef la mention « BRIGADE DE RECHERCHES » de couleur blanche, faisant ainsi référence à l'appartenance de l'unité au sein de l'institution, et en sa pointe l'inscription en lettres blanches « MIONS », désignant le lieu d'implantation de l'unité.</p>
        <p>Le tout est bordé par un liseré bicolore bleu et or.</p>
      </div>

      <div id="terms" class="terms">
        <h2>Conditions de vente</h2>
        <ul>
          <li>Expédition sous 1 à 3 jours après réception du paiement</li>
          <li>Vente réservée aux membres de la gendarmerie, retraités, collectionneurs et passionnés</li>
          <li>Pas de retour sauf défaut de fabrication</li>
        </ul>
      </div>

      <!-- FORMULAIRE AVEC EmailJS -->
      <form id="email-form" aria-label="Formulaire de commande">
        <h2>Demandez votre commande</h2>

        <label for="name">Nom complet (pour l'envoi)</label>
        <input type="text" id="name" name="name" required />

        <label for="email">Email</label>
        <input type="email" id="email" name="email" required />

        <label for="telephone">Téléphone</label>
        <input type="text" id="telephone" name="telephone" required />

        <label for="address">Adresse postale (pour l'envoi)</label>
        <textarea id="address" name="address" rows="3" required></textarea>

        <label for="quantity">Quantité souhaitée</label>
        <input type="number" id="quantity" name="quantity" min="1" required />

        <label for="payment">Mode de paiement souhaité</label>
        <select id="payment" name="payment" required>
          <option value="">-- Choisissez un mode de paiement --</option>
          <option value="PayPal">PayPal</option>
          <option value="Paylib">Paylib</option>
          <option value="Virement">Virement</option>
          <option value="Chèque">Chèque</option>
        </select>

        <label for="message">Message complémentaire (facultatif)</label>
        <textarea id="message" name="message" rows="3"></textarea>

        <button type="submit">Envoyer la commande</button>

        <div id="success-message" class="success-message" role="alert" aria-live="polite">
          <span class="check">✔</span> Merci, votre commande a bien été prise en compte !
        </div>
      </form>

      <div class="payment-icons" aria-label="Modes de paiement acceptés">
        <img src="paypal-icon.png" alt="PayPal" />
        <img src="paylib-icon.png" alt="Paylib" />
        <img src="virement-icon.png" alt="Virement" />
        <img src="cheque-icon.png" alt="Chèque" />
      </div>

    </div>
  </div>

  <footer>
    &copy; 2025 Brigade de Recherches de MIONS
  </footer>

  <script>
    window.addEventListener("DOMContentLoaded", () => {
      // Gestion lightbox
      const mainImage  = document.querySelector(".logo");
      const lightbox   = document.getElementById("lightbox");
      mainImage.addEventListener("click", () => {
        lightbox.classList.add("active");
        lightbox.setAttribute("aria-hidden", "false");
      });
      lightbox.addEventListener("click", () => {
        lightbox.classList.remove("active");
        lightbox.setAttribute("aria-hidden", "true");
      });

      // Gestion formulaire EmailJS
      const form = document.getElementById("email-form");
      const successMsg = document.getElementById("success-message");

      form.addEventListener("submit", function(e) {
        e.preventDefault();

        emailjs.sendForm("service_1d164s5", "template_shudt68", this)
          .then(function(response) {
            console.log("SUCCESS!", response.status, response.text);
            successMsg.classList.add("show");
            form.reset();
            successMsg.scrollIntoView({ behavior: "smooth" });
          }, function(error) {
            console.error("FAILED...", error);
            alert("Erreur lors de l'envoi. Merci de réessayer.");
          });
      });
    });
  </script>

</body>
</html>
